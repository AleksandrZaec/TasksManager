# TasksManager

Backend веб-приложения для внутреннего управления командами и задачами внутри компании.

### Система позволит:

- Регистрироваться и управлять аккаунтами пользователей
- Создавать команды (компании) и управлять ими
- Назначать задачи сотрудникам и отслеживать их выполнение
- Оценивать работу сотрудников
- Создавать встречи и просматривать календарь событий


## Стек технологий

- **Python** 3.12
- **FastAPI** ≥ 0.115.12, < 0.116.0 — основной web-фреймворк
- **Uvicorn** ≥ 0.34.3, < 0.35.0 — ASGI-сервер для запуска приложения
- **SQLAlchemy 2** ≥ 2.0.41, < 3.0.0 — ORM и работа с БД
- **PostgreSQL** — реляционная база данных
- **asyncpg** ≥ 0.30.0, < 0.31.0 — асинхронный драйвер для PostgreSQL
- **Alembic** ≥ 1.16.1, < 2.0.0 — миграции базы данных
- **Pydantic v2** ≥ 2.11.5, < 3.0.0 — валидация и сериализация данных
- **pydantic-settings** ≥ 2.9.1, < 3.0.0 — конфигурация через `.env`
- **python-jose[cryptography]** ≥ 3.5.0, < 4.0.0 — работа с JWT
- **Passlib[bcrypt]** ≥ 1.7.4, < 2.0.0 — хеширование паролей
- **bcrypt** < 4.0 — низкоуровневая библиотека для хеширования
- **python-multipart** ≥ 0.0.20, < 0.0.21 — поддержка multipart/form-data
- **Jinja2** ≥ 3.1.6, < 4.0.0 — шаблонизатор (для админки или писем)
- **SQLAdmin[async]** ≥ 0.20.1, < 0.21.0 — админка для FastAPI
- **itsdangerous** ≥ 2.2.0, < 3.0.0 — безопасные токены и подписи
- **email-validator** ≥ 2.2.0, < 3.0.0 — валидация email-адресов

### Тестирование

- **pytest** ≥ 8.4.1, < 9.0.0 — основной фреймворк для тестов
- **pytest-asyncio** ≥ 1.0.0, < 2.0.0 — поддержка async-тестов
- **pytest-dotenv** ≥ 0.5.2, < 0.6.0 — подгрузка `.env` в тестах
- **pytest-cov** ≥ 6.2.1, < 7.0.0 — покрытие кода тестами
- **httpx** ≥ 0.28.1, < 0.29.0 — асинхронный HTTP-клиент для тестов


## Функциональность проекта

### Пользователи
- Регистрация по email и паролю
- Авторизация / выход из системы
- Роли: пользователь, менеджер, админ команды
- Обновление профиля и удаление аккаунта

### Команды
- Создание команды (только админ)
- Управление участниками (добавление / удаление)
- Просмотр состава команды

### Задачи

- Создание задач (менеджером)
- Назначение исполнителей
- Статусы задач: открыто, в работе, выполнено
- Дедлайн, описание, изменение и удаление
- Упрощённый чат внутри задачи (комментарии)

### Оценка работы

- Оценка задач по шкале от 1 до 5
- Просмотр всех полученных оценок пользователем
- Подсчёт средней оценки за период

### Встречи

- Назначение встречи: дата, время, участники
- Проверка пересечений по времени
- Просмотр списка встреч пользователем
- Отмена встреч

### Календарь

- Отображение задач и встреч по дням
- Режимы: дневной и месячный
- Автоматическая подгрузка событий

### Админ-панель

- SQLAdmin — современная асинхронная админка для FastAPI
- Управление пользователями, командами, задачами, встречами и оценками
- ограничен доступ для SUPERUSER

## Установка и запуск проекта


### 1. Клонирование репозитория

```sh
 git clone https://github.com/AleksandrZaec/TasksManager.git
```

### 2. В корне проекта создайте два файла окружения .env (основной файл конфигурации для запуска приложения), .env.test (файл с конфигурацией для тестовой базы данных) оба файла можно создать но основе env_example, затеи отредактируйте переменные в .env.test, что бы они указывали на тестовую БД.

### 3. Для запуска проекта с помощью докера используйте команду

```sh
 docker-compose up -d --build
```

Приложение будет доступно по адресу: `http://127.0.0.1:8000/`

Для запуска тестов используйте команду:

```sh
 docker-compose run --rm tests
```


Для регистрации суперпользователя:

```sh
 docker-compose run --rm app python -m src.admin.csu
```

### Документация
После запуска сервера документацию будет доступна по  адресу:

```sh
http://localhost:8000//docs/ 
```



